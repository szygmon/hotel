{% extends './baseSP.html.twig' %}

{% block title %}Hotel JM - rezerwacja{% endblock %}

{% block body %}
</div>		
<!-- banner -->

<div class="details">
    <div class="container">
        <h3>Rezerwacja</h3>
        <div class="row">
            <div class="booking-form">
                <div class="col-md-6">

                    <form method="POST">
                        <!---strat-date-piker---->
                        <link rel="stylesheet" href="{{ url('template') }}/css/jquery-ui.css" />
                        <script src="{{ url('template') }}/js/jquery-ui.js"></script>
                        <!---/End-date-piker---->


                        <h5>IMIĘ I NAZWISKO</h5>
                        <input type="text" name="name" value="{{ data.name }}">
                        <h5>OD DNIA</h5>
                        <input class="datepickerR" name="fromDate" id="fromDate" type="text" placeholder="Od dnia" value="{{ data.fromDate }}" onfocus="this.value = '';" onblur="if (this.value == '') {
                                    this.value = 'Do dnia';
                                }">
                        <h5>DO DNIA</h5>
                        <input class="datepickerR" name="toDate" id="toDate" type="text" placeholder="Do dnia" value="{{ data.toDate }}" onfocus="this.value = '';" onblur="if (this.value == '') {
                                    this.value = 'Do dnia';
                                }">
                        <h5>NUMER TELEFONU</h5>
                        <input name="phone" type="text" value="">
                        {% if Me.isLogged() %}
                            <input type="hidden" name="userId" value="{{ Me.getModel.id }}" />
                        {% endif %}

                    </form>
                </div>

                <div class="col-md-6">		
                    <form>
                        <h5>DODATKOWE OPCJE</h5>
                        <div class="col-md-6">
                            <input type="checkbox" id="balcony" class="properties" name="balcony" value="1" /> Balkon 
                        </div>
                        <div class="col-md-6">
                            <input type="checkbox" id="toilet" class="properties" name="toilet" value="1" /> Toaleta
                        </div>
                        <div class="clearfix">&nbsp;</div>
                        <h5 class="mem">Ilość osób</h5>
                        <input min="1" type="number" id="quantity" name="quantity" value="1" class="form-control input-small">
                        <h5>Informacje dla hotelu</h5>
                        <textarea value=""></textarea>
                        <input type="submit" value="Submit">
                        <input type="reset" value="Reset">
                    </form>			      
                </div>
            </div>
        </div>
        <div class="clearfix margin-bottom">&nbsp;</div>
        <div class="row">
            <div class="col-md-6">
                <h3>Dostępne pokoje</h3>
                <div id="rooms">

                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        var url = $(location).attr('hostname');
        url = "http://" + url + "/getrooms/";
        $("#rooms").load(url + $("#fromDate").val() + "/" + $("#toDate").val() + "/?balcony=" + $("#balcony").prop('checked') + "&toilet=" + $("#toilet").prop('checked'));
        $(".datepickerR").datepicker({
            onSelect: function () {
                $("#rooms").load(url + $("#fromDate").val() + "/" + $("#toDate").val() + "/?balcony=" + $("#balcony").prop('checked') + "&toilet=" + $("#toilet").prop('checked'));
            }
        });
        $(".properties").change(function () {
//if (this.checked) {
            $("#rooms").load(url + $("#fromDate").val() + "/" + $("#toDate").val() + "/?balcony=" + $("#balcony").prop('checked') + "&toilet=" + $("#toilet").prop('checked'));
//}
        });
    });
    $("#n-rooms").addClass("active");
    $(".banner").toggleClass("banner1");
</script>
{% endblock %}